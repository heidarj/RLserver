@using Microsoft.AspNet.Identity
@if (Request.IsAuthenticated)
{
    using (Html.BeginForm("LogOff", "Account", FormMethod.Post, new { id = "logoutForm" }))
    {
    @Html.AntiForgeryToken()

    <div class="dropdown">
        <button class="nav-item btn btn-dark" id="userDropdown" aria-expanded="false" aria-haspopup="true" type="button" data-toggle="dropdown">
        @(User.Identity.GetUserName()) <i class="fal fa-user-circle fa-lg m-2"></i>
        </button>
        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="userDropdown">
            <a class="dropdown-item" href="/manage"><i class="far fa-user-edit fa-lg m-2"></i> Account</a>
            <a class="dropdown-item" href="/manage"><i class="far fa-cog fa-lg m-2"></i> Settings</a>
            <div class="dropdown-divider"></div>
            <a href="javascript:document.getElementById('logoutForm').submit()" class="dropdown-item"><i class="far fa-sign-out-alt fa-lg m-2"></i> Log off</a>
        </div>
    </div>
    }
}
else
{
    <ul class="nav navbar-nav">
        <li class="nav-item"><a href="/account/login" id="loginLink" class="nav-link">Log in<i class="fas fa-user-circle fa-lg m-2"></i></a></li>
    </ul>
}
